{"version":3,"file":"v-trend.esm.js","sources":["../src/v-trend.vue","../src/index.js"],"sourcesContent":["<template>\n  <svg :width=\"width\" :height=\"height\" :viewBox=\"viewBox\">\n    <defs>\n      <linearGradient :id=\"gradId\" x1=\"0\" x2=\"0\" y1=\"1\" y2=\"0\">\n        <stop v-for=\"stop in stops\" :offset=\"stop.offset\" :stop-color=\"stop.color\"></stop>\n      </linearGradient>\n      <mask :id=\"maskId\" x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">\n        <polyline :points=\"points\" fill=\"transparent\" stroke=\"#8cc665\" \n        transform=\"scale(1, 1)\"\n        :stroke-width=\"strokeWidth\"></polyline>\n      </mask>\n    </defs>\n    <g transform=\"scale(1, 1)\">\n      <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" :style=\"rectStyle\"></rect>\n    </g>\n  </svg>\n</template>\n\n<script>\nlet linearGradientUid = 0;\nconst idPrefix = 'vTrEnD';\nconst defaultGradientStops = [\n  '#c6e48b',\n  '#7bc96f',\n  '#239a3b',\n  '#196127'\n];\nconst percent = n => (n * 100) + '%';\nconst toFixed = (n, d = 2) => n.toFixed(d);\n\nexport default {\n  name: 'v-trend',\n  props: {\n    width: {\n      type: [Number, String],\n      default: 155\n    },\n    height: {\n      type: [Number, String],\n      default: 30\n    },\n    strokeWidth: {\n      type: [Number, String],\n      default: 2.0\n    },\n    gradients:{\n      type: Array,\n      default() {\n        return defaultGradientStops.slice(0);\n      }\n    },\n    data: String\n  },\n  data() {\n    const gradId = `${idPrefix}-grad-${linearGradientUid++}`;\n    const maskId = `${idPrefix}-mask-${linearGradientUid++}`;\n    return {\n      gradId,\n      maskId,\n      rectStyle: {\n        stroke: 'none',\n        fill: `url(#${gradId})`,\n        mask: `url(#${maskId})`\n      }\n    };\n  },\n  computed: {\n    stops() {\n      const divider = this.gradients.length - 1;\n      return this.gradients.map((color, i) => ({\n        color,\n        offset: percent(i / divider)\n      }));\n    },\n    points() {\n      const w = this.width;\n      const h = this.height;\n      const s = this.strokeWidth;\n      const data = this.data;\n      const yMin = Math.min.apply(Math, data) - s/2;\n      const yMax = Math.max.apply(Math, data) + s/2;\n      const xUnit = w / data.length;\n      const yUnit = h / (yMax - yMin);\n      return data.map((d, i) => {\n          const x = toFixed(i * xUnit, 5);\n          const y = toFixed(h - (d - yMin)* yUnit, 5);\n          return `${x},${y}`;\n        }).join(' ');\n    },\n    viewBox() {\n      const w = this.width;\n      const h = this.height;\n      return `0 0 ${w} ${h}`;\n    }\n  }\n};\n</script>\n","import VTrendComponent from './v-trend.vue';\n\nVTrendComponent.install =  Vue => {\n  Vue.component(VTrendComponent.name, VTrendComponent );\n};\n\nexport default VTrendComponent;\n"],"names":["let","const","VTrendComponent"],"mappings":"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"}